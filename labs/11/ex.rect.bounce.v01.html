<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Rectangle Bounce</title>
  </head>
  <body>
    <canvas id="sketch" width="800" height="400" style="border: 1px solid gray;"></canvas>
    <script>
      document.addEventListener('DOMContentLoaded', main);

      var sketch;
      var context;

      var rectangle = {'x':0, 'y':100, 'w':120, 'h':40};
      var dx = 3;
      var fps = 10;

      function main() {
      	sketch = document.getElementById('sketch');
      	context = sketch.getContext("2d");
      	setInterval(animate, fps);
      }

      function animate() {
      	context.clearRect(0, 0, sketch.offsetWidth, sketch.offsetHeight);
      	context.fillRect(rectangle.x, rectangle.y, 120, 40);

      	rectangle.x = rectangle.x + dx;
        if (rectangle.x > sketch.offsetWidth - rectangle.w - dx) {
      		dx = dx * -1;
      		rectangle.x = offsetWidth;
      	} else if (rectangle.x < 0 + dx) {
      		dx = dx * -1;
      		rectangle.x = 0;
      	}
      }

    </script>

  </body>
</html>
